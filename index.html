<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yihan Zhang's World</title>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        unc: {
                            DEFAULT: '#4B9CD3', // Carolina Blue
                            light: '#7BAFD4',
                            dark: '#13294B'
                        },
                        moma: {
                            red: '#E4002B', // MoMA/Art Red
                            black: '#000000',
                            white: '#FFFFFF'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

    <!-- Marked for Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=JetBrains+Mono:wght@400&display=swap"
        rel="stylesheet">

    <style>
        /* Base Styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: #111;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1,
        h2,
        h3,
        h4,
        .serif {
            font-family: 'Playfair Display', serif;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #fff;
        }

        ::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }

        /* PDF Viewer Styling */
        .pdf-frame {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        /* Image Placeholder Styling */
        .img-placeholder {
            background-color: #f8fafc;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            text-align: center;
            border: 1px solid #e2e8f0;
            transition: all 0.4s ease;
            width: 100%;
            height: 100%;
            min-height: 240px;
        }

        .img-placeholder:hover {
            background-color: #f1f5f9;
            color: #0f172a;
            border-color: #cbd5e1;
        }

        /* MoMA Art Placeholder - Dark Theme */
        .art-placeholder {
            background-color: #1a1a1a;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #666;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            text-align: center;
            border: 1px solid #333;
            transition: all 0.4s ease;
            width: 100%;
            height: 100%;
        }

        .art-placeholder:hover {
            border-color: #E4002B;
            /* Red Border on Hover */
            color: #fff;
        }

        /* Animated Blobs */
        @keyframes blob {
            0% {
                transform: translate(0px, 0px) scale(1);
            }

            33% {
                transform: translate(30px, -50px) scale(1.1);
            }

            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }

            100% {
                transform: translate(0px, 0px) scale(1);
            }
        }

        .animate-blob {
            animation: blob 12s infinite ease-in-out;
        }

        .animation-delay-2000 {
            animation-delay: 2s;
        }

        /* PDF Viewer Container */
        .viewer-container {
            height: calc(100vh - 64px);
        }

        /* Mobile Menu Backdrop */
        .mobile-menu-backdrop {
            background-color: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(16px);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- ANIMATION VARIANTS ---
        const pageVariants = {
            initial: { opacity: 0, y: 10 },
            animate: { opacity: 1, y: 0 },
            exit: { opacity: 0, y: -10 },
            transition: { duration: 0.4, ease: [0.22, 1, 0.36, 1] }
        };

        // --- COMPONENTS ---

        // 1. Navigation (Responsive)
        const Navbar = ({ activeSection, setActiveSection }) => {
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            const navItems = [
                { id: 'home', label: 'Overview' },
                { id: 'news', label: 'News' },
                { id: 'research', label: 'Research' },
                { id: 'projects', label: 'Artifacts' },
                { id: 'unc', label: 'Campus' },
                { id: 'art', label: 'Gallery' },
                { id: 'contact', label: 'Contact' },
            ];

            const handleNavClick = (id) => {
                setActiveSection(id);
                setMobileMenuOpen(false);
            }

            return (
                <>
                    <nav className="fixed w-full z-50 bg-white/95 backdrop-blur-xl border-b border-gray-100 transition-all duration-300">
                        <div className="max-w-7xl mx-auto px-6 lg:px-8">
                            <div className="flex justify-between items-center h-20">
                                {/* Logo / Name */}
                                <div className="flex items-center gap-3 group cursor-pointer" onClick={() => setActiveSection('home')}>
                                    <span className="text-lg font-serif font-bold tracking-tight group-hover:text-unc transition-colors">
                                        Yihan Zhang
                                    </span>
                                    <span className="hidden sm:block h-4 w-px bg-gray-300"></span>
                                    <span className="hidden sm:block text-xs font-medium text-unc tracking-wide uppercase group-hover:text-unc-dark transition-colors">UNC Chapel Hill</span>
                                </div>

                                {/* Desktop Menu */}
                                <div className="hidden md:flex space-x-6 text-sm font-medium text-gray-500">
                                    {navItems.map((item) => (
                                        <button
                                            key={item.id}
                                            onClick={() => setActiveSection(item.id)}
                                            className={`nav-btn transition-colors hover:text-black relative ${activeSection === item.id ? 'text-black font-semibold' : ''}`}
                                        >
                                            {item.label}
                                            {activeSection === item.id && (
                                                <motion.div
                                                    layoutId="underline"
                                                    className="absolute -bottom-1 left-0 right-0 h-0.5 bg-unc"
                                                />
                                            )}
                                        </button>
                                    ))}
                                </div>

                                {/* Desktop Actions */}
                                <div className="hidden md:flex gap-4">
                                    <button onClick={() => setActiveSection('cv')} className="flex items-center gap-2 text-xs font-medium text-gray-900 border border-gray-200 px-4 py-2 rounded-full hover:bg-gray-50 hover:border-unc/30 transition shadow-sm">
                                        <i data-lucide="file-text" className="w-3 h-3"></i> CV
                                    </button>
                                    <button onClick={() => setActiveSection('contact')} className="bg-black text-white px-5 py-2 rounded-full text-xs font-medium hover:bg-unc transition-all shadow-md">
                                        Contact
                                    </button>
                                </div>

                                {/* Mobile Menu Button */}
                                <button
                                    className="md:hidden p-2 text-gray-600"
                                    onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                                >
                                    <i data-lucide={mobileMenuOpen ? "x" : "menu"} className="w-6 h-6"></i>
                                </button>
                            </div>
                        </div>
                    </nav>

                    {/* Mobile Menu Overlay */}
                    <AnimatePresence>
                        {mobileMenuOpen && (
                            <motion.div
                                initial={{ opacity: 0, y: -20 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, y: -20 }}
                                className="fixed inset-0 z-40 pt-24 px-6 mobile-menu-backdrop md:hidden flex flex-col h-screen"
                            >
                                <div className="flex flex-col gap-6 text-center">
                                    {navItems.map((item) => (
                                        <button
                                            key={item.id}
                                            onClick={() => handleNavClick(item.id)}
                                            className={`text-2xl font-serif ${activeSection === item.id ? 'text-unc font-bold' : 'text-gray-800'}`}
                                        >
                                            {item.label}
                                        </button>
                                    ))}
                                    <div className="h-px bg-gray-200 w-1/2 mx-auto my-4"></div>
                                    <button onClick={() => handleNavClick('cv')} className="text-lg font-medium text-gray-600 flex items-center justify-center gap-2">
                                        <i data-lucide="file-text" className="w-4 h-4"></i> View CV
                                    </button>
                                    <a href="mailto:zhayihan@unc.edu" className="text-lg font-medium text-gray-600">
                                        zhayihan@unc.edu
                                    </a>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </>
            );
        };

        // 2. Hero Section (Yihan.jpg)
        const Hero = ({ setActiveSection }) => (
            <section className="min-h-[90vh] flex items-center justify-center relative overflow-hidden pt-20 bg-white">
                {/* Carolina Blue Blobs */}
                <div className="absolute top-0 left-1/4 w-[300px] md:w-[600px] h-[300px] md:h-[600px] bg-unc/5 rounded-full mix-blend-multiply filter blur-[80px] md:blur-[128px] opacity-70 animate-blob"></div>
                <div className="absolute top-0 right-1/4 w-[250px] md:w-[500px] h-[250px] md:h-[500px] bg-blue-50 rounded-full mix-blend-multiply filter blur-[80px] md:blur-[128px] opacity-60 animate-blob animation-delay-2000"></div>

                <div className="max-w-6xl mx-auto px-6 z-10 relative grid md:grid-cols-12 gap-12 md:gap-16 items-center">
                    <div className="md:col-span-7 text-center md:text-left">
                        <motion.div
                            initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }}
                            className="inline-flex items-center gap-2 px-3 py-1 rounded border border-unc/20 bg-unc/5 mb-6 md:mb-8 mx-auto md:mx-0"
                        >
                            <span className="relative flex h-2 w-2">
                                <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-unc opacity-75"></span>
                                <span className="relative inline-flex rounded-full h-2 w-2 bg-unc"></span>
                            </span>
                            <span className="text-[10px] font-bold text-unc-dark uppercase tracking-widest">Open for PhD Opportunities Fall 2026</span>
                        </motion.div>

                        <motion.h1
                            initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.4 }}
                            className="text-5xl md:text-8xl font-medium tracking-tighter mb-6 md:mb-8 leading-[1.1] text-gray-900"
                        >
                            The Pragmatic <br />
                            <span className="serif italic text-unc">Idealist.</span>
                        </motion.h1>

                        <motion.p
                            initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6 }}
                            className="text-base md:text-lg text-gray-600 max-w-xl mx-auto md:mx-0 leading-relaxed font-light mb-8"
                        >
                            Bridging <strong>Industrial Hardware</strong>, <strong>Full-Stack Prototyping</strong>, and <strong>Behavioral Data Science</strong> to build Human-Centered Intelligent Systems.
                        </motion.p>

                        {/* UNC Identity Block - Responsive */}
                        <motion.div
                            initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7 }}
                            className="flex items-center gap-4 mb-10 p-4 bg-white border border-gray-100 rounded-xl max-w-sm md:max-w-md shadow-sm hover:shadow-md transition-shadow cursor-default mx-auto md:mx-0 text-left group"
                            onClick={() => setActiveSection('unc')}
                        >
                            {/* CSS-Only UNC Seal Approximation */}
                            <div className="w-12 h-12 bg-unc/10 rounded-full border-2 border-unc/30 flex items-center justify-center flex-shrink-0 group-hover:border-unc transition-colors">
                                <div className="w-8 h-8 border border-unc rounded-full flex items-center justify-center">
                                    <span className="font-serif text-unc font-bold text-xs">UNC</span>
                                </div>
                            </div>
                            <div>
                                <p className="text-xs text-gray-400 uppercase tracking-wide font-bold">Academic Affiliation</p>
                                <p className="text-sm font-serif text-gray-900 leading-tight">University of North Carolina<br />at Chapel Hill</p>
                            </div>
                        </motion.div>

                        <motion.div
                            initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.8 }}
                            className="flex flex-col sm:flex-row gap-4 justify-center md:justify-start"
                        >
                            <button onClick={() => setActiveSection('projects')} className="px-8 py-3 text-sm font-medium text-white bg-black rounded-full hover:bg-unc hover:scale-105 transition-all duration-300 shadow-xl w-full sm:w-auto">
                                View Portfolio
                            </button>

                            <a href="02_Research_Statement_Yihan_Zhang.pdf" target="_blank" className="px-8 py-3 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-full hover:border-unc transition-all duration-300 w-full sm:w-auto">
                                Research Statement
                            </a>
                        </motion.div>
                    </div>

                    <div className="md:col-span-5 relative hidden md:block">
                        {/* Academic Profile Image */}
                        <motion.div
                            initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.5 }}
                            className="aspect-[4/5] bg-white border border-gray-100 p-3 rounded-sm shadow-2xl rotate-2 hover:rotate-0 transition-transform duration-700"
                        >
                            <div className="w-full h-full bg-gray-100 flex flex-col items-center justify-center text-gray-400 font-mono text-xs space-y-2 relative overflow-hidden">
                                <img
                                    src="Yihan.jpg"
                                    alt="Yihan Zhang"
                                    className="w-full h-full object-cover object-top"
                                    onError={(e) => {
                                        e.target.onerror = null;
                                        e.target.src = "https://placehold.co/400x500?text=Yihan.jpg+Missing";
                                    }}
                                />
                            </div>
                        </motion.div>
                    </div>
                </div>
            </section>
        );

        // 3. Stats Bar
        const Stats = () => (
            <div className="bg-white border-t border-b border-gray-100 py-12 relative overflow-hidden">
                <div className="absolute left-0 top-0 h-full w-1 bg-unc hidden md:block"></div>
                <div className="max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12 text-center">
                    {[
                        { val: "¥40B", label: "Indus. R&D Context" },
                        { val: "2", label: "Granted Patents" },
                        { val: "4.0", label: "Recent Term GPA" },
                        { val: "Top 2", label: "UNC MakerFest" }
                    ].map((stat, i) => (
                        <motion.div
                            key={i}
                            initial={{ opacity: 0, y: 20 }}
                            whileInView={{ opacity: 1, y: 0 }}
                            viewport={{ once: true }}
                            transition={{ delay: i * 0.1 }}
                        >
                            <div className="text-2xl md:text-3xl font-serif font-bold text-gray-900">{stat.val}</div>
                            <div className="text-[10px] md:text-xs text-gray-500 font-semibold uppercase tracking-widest mt-2 text-unc-dark">{stat.label}</div>
                        </motion.div>
                    ))}
                </div>
            </div>
        );

        // 4. News Section
        const NewsSection = () => (
            <section className="py-16 md:py-24 bg-white border-t border-gray-100">
                <div className="max-w-4xl mx-auto px-6">
                    <div className="flex items-baseline gap-4 mb-8 md:mb-12">
                        <h2 className="text-xl md:text-2xl font-serif font-bold text-black">Academic Updates</h2>
                        <div className="h-px bg-gray-200 flex-1"></div>
                    </div>

                    <div className="space-y-8 md:space-y-12 border-l border-gray-200 pl-6 md:pl-8 ml-2 md:ml-3">
                        {[
                            { date: "May 2025", title: "Selected Exhibitor", subtitle: "UNC Smart Design Showcase", desc: "Showcased 'Chill by U' laptop stand prototype to engineering faculty." },
                            { date: "Spring 2025", title: "Academic Excellence", subtitle: "UNC Chapel Hill", desc: "Achieved 4.00 GPA with maximum course load (18 credits), demonstrating resilience and academic rigor." },
                            { date: "2024", title: "Award Winner", subtitle: "UNC MakerFest", desc: "Won 2nd Most Creative Prize for innovative hardware design." },
                            { date: "2022", title: "Competition Winner", subtitle: "Sustainable Campus Design", desc: "3rd Prize in 'Let's Charrette' competition for urban sustainability concepts." }
                        ].map((item, i) => (
                            <div key={i} className="relative group">
                                <div className="absolute -left-[31px] md:-left-[39px] top-1.5 w-4 h-4 md:w-5 md:h-5 bg-white border-2 border-gray-300 rounded-full group-hover:border-unc group-hover:scale-110 transition-all duration-300"></div>
                                <span className="text-[10px] md:text-xs font-mono text-unc mb-1 block uppercase tracking-wider font-bold">{item.date}</span>
                                <h3 className="text-base md:text-lg font-medium text-gray-900">{item.title} <span className="text-gray-400 font-light block md:inline">| {item.subtitle}</span></h3>
                                <p className="text-sm text-gray-600 mt-2 leading-relaxed">{item.desc}</p>
                            </div>
                        ))}
                    </div>
                </div>
            </section>
        );

        // 5. Research Section (Framework_Diagram.jpg)
        const Research = () => (
            <section className="py-24 bg-gray-50">
                <div className="max-w-6xl mx-auto px-6">

                    {/* 1. Header & Framework Intro */}
                    <div className="mb-20">
                        <div className="flex items-baseline gap-4 mb-6">
                            <h2 className="text-3xl md:text-4xl font-serif font-bold text-gray-900">Research Framework</h2>
                            <div className="h-px bg-gray-300 flex-1"></div>
                        </div>
                        <p className="text-lg md:text-xl text-gray-700 font-light leading-relaxed max-w-4xl">
                            My work establishes an <strong>"Intelligent Design Framework for Urban Micro-Interaction Systems"</strong>.
                            Moving beyond theoretical models, I focus on the <strong>deployable + measurable + publishable</strong> triad to close the loop between sensing, decision-making, and human incentive.
                        </p>

                        {/* Methodology Tags */}
                        <div className="flex flex-wrap gap-3 mt-8">
                            {['Urban Computing', 'HCI', 'Behavioral Science', 'Rapid Prototyping', 'Closed-Loop Systems'].map(tag => (
                                <span key={tag} className="px-3 py-1 bg-white border border-gray-200 rounded-full text-xs font-mono text-gray-600 tracking-wide uppercase">
                                    {tag}
                                </span>
                            ))}
                        </div>
                    </div>

                    {/* 2. Methodology Visual (Full Width) */}
                    <div className="mb-24">
                        <div className="flex justify-between items-end mb-4">
                            <h3 className="text-sm font-bold text-gray-400 uppercase tracking-widest">Methodology Architecture</h3>
                            <span className="text-xs font-mono text-gray-400">Fig 1. Perception-Decision-Execution Loop</span>
                        </div>
                        <div className="w-full aspect-[21/9] md:aspect-[3/1] bg-gray-50 rounded-lg border border-gray-200 shadow-sm flex flex-col justify-center items-center group hover:border-unc/30 transition-colors cursor-pointer overflow-hidden relative">
                            <img
                                src="Framework_Diagram.jpg"
                                alt="Methodology Diagram"
                                className="w-full h-full object-contain"
                                onError={(e) => {
                                    e.target.style.display = 'none';
                                    // Fallback to icon if image missing
                                    e.target.parentElement.classList.add('img-placeholder');
                                }}
                            />
                            {/* Fallback content shown if img error */}
                            <div className="absolute inset-0 flex flex-col items-center justify-center z-[-1]">
                                <i data-lucide="workflow" className="w-10 h-10 mb-3 text-gray-300"></i>
                                <span className="text-sm text-gray-500">Framework_Diagram.jpg</span>
                                <span className="text-xs text-gray-400 mt-1">Place image in folder</span>
                            </div>
                        </div>
                    </div>

                    <div className="grid md:grid-cols-12 gap-16">

                        {/* 3. Publications (Left Column - Wider 7/12) */}
                        <div className="md:col-span-7 space-y-12">
                            <div>
                                <div className="flex items-center gap-3 mb-8">
                                    <h3 className="text-xl font-serif font-bold text-gray-900">Publications & Manuscripts</h3>
                                    <div className="h-px bg-gray-200 flex-1"></div>
                                </div>
                                <ul className="space-y-8">
                                    <li className="group">
                                        <a href="07_Offline Oracle_ A Gamified Framework.pdf" target="_blank" className="block hover:bg-white hover:shadow-sm p-6 -mx-6 rounded-xl transition-all border border-transparent hover:border-gray-100">
                                            <div className="flex justify-between items-start mb-3">
                                                <span className="text-[10px] font-bold text-unc bg-unc/10 px-2 py-1 rounded uppercase tracking-wider">Draft Paper</span>
                                                <span className="text-xs font-mono text-gray-400">2025</span>
                                            </div>
                                            <h4 className="text-xl font-medium text-gray-900 leading-tight group-hover:text-unc transition-colors">
                                                Offline Oracle: A Gamified Framework for Diagnosing "True Needs"
                                            </h4>
                                            <p className="text-sm text-gray-600 mt-3 font-light">
                                                <span className="font-medium text-black">Yihan Zhang</span>.
                                                <em>Targeting CHI / UbiComp.</em>
                                            </p>
                                            <p className="text-sm text-gray-500 mt-3 leading-relaxed line-clamp-2 group-hover:line-clamp-none transition-all">
                                                Proposes a hybrid physical-digital system to address digital addiction through tangible rewards and social bonding, validating the "True Needs" hypothesis.
                                            </p>
                                        </a>
                                    </li>

                                    <li className="group">
                                        <a href="02_Research_Statement_Yihan_Zhang.pdf" target="_blank" className="block hover:bg-white hover:shadow-sm p-6 -mx-6 rounded-xl transition-all border border-transparent hover:border-gray-100">
                                            <div className="flex justify-between items-start mb-3">
                                                <span className="text-[10px] font-bold text-gray-600 bg-gray-200 px-2 py-1 rounded uppercase tracking-wider">Statement</span>
                                                <span className="text-xs font-mono text-gray-400">2025</span>
                                            </div>
                                            <h4 className="text-xl font-medium text-gray-900 leading-tight group-hover:text-unc transition-colors">
                                                Research Statement: Intelligent Design Framework for Deployable Systems
                                            </h4>
                                            <p className="text-sm text-gray-600 mt-3 font-light">
                                                <span className="font-medium text-black">Yihan Zhang</span>.
                                                <em>University of North Carolina at Chapel Hill.</em>
                                            </p>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        {/* 4. Patents (Right Column - Narrower 5/12) */}
                        <div className="md:col-span-5">
                            <div className="bg-[#111] text-white p-8 rounded-xl shadow-2xl relative overflow-hidden border-t-4 border-unc sticky top-24">
                                <div className="absolute top-0 right-0 w-40 h-40 bg-gray-800 rounded-full mix-blend-screen filter blur-3xl opacity-20 pointer-events-none"></div>

                                <h3 className="text-xs font-bold uppercase tracking-widest mb-8 text-gray-400 flex items-center gap-2">
                                    <i data-lucide="award" className="w-4 h-4 text-unc"></i> Industrial Patents
                                </h3>

                                <div className="space-y-10 relative z-10">
                                    <div className="group">
                                        <div className="flex justify-between items-start mb-3">
                                            <span className="text-[10px] bg-white text-black px-2 py-0.5 rounded font-bold uppercase tracking-wider">First Inventor</span>
                                            <span className="text-xs font-mono text-gray-500 group-hover:text-white transition-colors">CN209791046U</span>
                                        </div>
                                        <h4 className="font-serif text-xl text-white leading-snug mb-3">Disc-Tube Reverse Osmosis Apparatus</h4>
                                        <p className="text-xs text-gray-400 font-light leading-relaxed border-l-2 border-gray-800 pl-4 group-hover:border-unc transition-colors">
                                            Solved a critical maintenance bottleneck for landfill leachate treatment via a novel detachable mesh design. Adopted by Weiming Group (¥40B).
                                        </p>
                                    </div>

                                    <div className="h-px bg-gray-800 w-full"></div>

                                    <div className="group">
                                        <div className="flex justify-between items-start mb-3">
                                            <span className="text-[10px] border border-gray-600 text-gray-400 px-2 py-0.5 rounded uppercase tracking-wider">2nd Inventor</span>
                                            <span className="text-xs font-mono text-gray-500 group-hover:text-white transition-colors">CN215209304U</span>
                                        </div>
                                        <h4 className="font-serif text-xl text-white leading-snug mb-3">Kitchen Waste Extraction Device</h4>
                                        <p className="text-xs text-gray-400 font-light leading-relaxed border-l-2 border-gray-800 pl-4 group-hover:border-unc transition-colors">
                                            Co-designed a multi-stage slag discharge system for complex waste processing machinery.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </section>
        );

        // 6. Projects Section (Research Artifacts)
        const Projects = () => {
            const works = [
                {
                    id: 'offline',
                    title: 'Offline Oracle',
                    cat: 'HCI & Health',
                    desc: 'A hybrid physical-digital framework (Box + App) to diagnose and fulfill "True Needs" behind digital overuse.',
                    link: '07_Offline Oracle_ A Gamified Framework.pdf',
                    img: 'Offline_Oracle.jpg'
                },
                {
                    id: 'tempest',
                    title: 'TEMPEST Robot',
                    cat: 'Autonomous Robotics',
                    desc: 'Low-cost autonomous surface vessel for urban waterways. Tackled perception and navigation challenges.',
                    link: '03_Research-portfolio_Yihan.pdf',
                    img: 'TEMPEST_Robot.jpg'
                },
                {
                    id: 'smartcan',
                    title: 'SmartCan',
                    cat: 'Behavioral Design',
                    desc: 'Intelligent waste sorting assistant using sensors and visual feedback to gamify disposal processes.',
                    link: '03_Research-portfolio_Yihan.pdf',
                    img: 'SmartCan.jpg'
                },
                {
                    id: 'chill',
                    title: 'Chill by "U"',
                    cat: 'Fabrication & IoT',
                    desc: 'Modular laptop stand with adaptive cooling. 2nd Most Creative Prize at UNC MakerFest.',
                    link: '03_Research-portfolio_Yihan.pdf',
                    img: 'Chill_by_U.jpg'
                },
                {
                    id: 'bird',
                    title: 'Smart Bird Feeder',
                    cat: 'Ecological IoT',
                    desc: 'Automated system utilizing light/weight sensors to distinguish target species. 90% recycled materials.',
                    link: '03_Research-portfolio_Yihan.pdf',
                    img: 'Smart_Bird_Feeder.jpg'
                },
                {
                    id: 'gis',
                    title: 'Spatial Inequality',
                    cat: 'Data Science',
                    desc: 'Quantitative analysis of US Population Change & Global Coffee Trade inequalities using R and ArcGIS.',
                    link: '03_Research-portfolio_Yihan.pdf',
                    img: 'GIS_Map.jpg'
                }
            ];

            return (
                <section className="py-16 md:py-32 bg-white">
                    <div className="max-w-7xl mx-auto px-6">
                        <div className="mb-12 md:mb-16 flex justify-between items-end">
                            <div>
                                <h2 className="text-2xl md:text-3xl font-serif font-bold text-gray-900">Research Artifacts</h2>
                                <p className="text-gray-500 mt-2 text-sm md:text-base">Selected prototypes and analytical projects.</p>
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12 md:gap-y-16">
                            {works.map((work, i) => (
                                <div key={work.id} className="group flex flex-col h-full">
                                    <a href={work.link} target="_blank" className="block overflow-hidden mb-4 md:mb-6 border border-gray-100 rounded-sm relative aspect-[4/3] bg-gray-50">
                                        <img
                                            src={work.img}
                                            alt={work.title}
                                            className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                                            onError={(e) => {
                                                e.target.style.display = 'none';
                                                e.target.parentElement.classList.add('img-placeholder');
                                                e.target.parentElement.innerHTML = `<div class="text-center p-4"><i data-lucide="image" class="mx-auto mb-2 text-gray-300"></i><span class="text-xs text-gray-400">${work.img}</span></div>`;
                                                lucide.createIcons();
                                            }}
                                        />

                                        {/* Hover Overlay */}
                                        <div className="absolute inset-0 bg-black/0 group-hover:bg-unc/10 transition-colors flex items-center justify-center">
                                            <div className="opacity-0 group-hover:opacity-100 transition-opacity bg-white px-4 py-2 rounded-full text-xs font-medium shadow-lg text-unc">
                                                View PDF
                                            </div>
                                        </div>
                                    </a>

                                    <div>
                                        <span className="text-[10px] md:text-xs font-mono text-gray-400 uppercase tracking-widest">{work.cat}</span>
                                        <h3 className="text-lg md:text-xl font-serif font-medium mt-1 md:mt-2 mb-2 md:mb-3 group-hover:text-unc transition-colors">{work.title}</h3>
                                        <p className="text-sm text-gray-600 font-light leading-relaxed">{work.desc}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        // 7. MoMA Style Art Gallery (Updated to 8 items)
        const ArtGallery = () => (
            <section className="py-16 md:py-32 bg-black text-white">
                <div className="max-w-[1600px] mx-auto px-6 lg:px-12">

                    {/* Gallery Header */}
                    <div className="mb-16 md:mb-24 border-t border-white pt-8 flex flex-col md:flex-row justify-between items-start">
                        <div className="md:w-1/3">
                            <h2 className="text-3xl md:text-5xl font-sans font-bold tracking-tighter mb-6 text-white">
                                Art & Design<br /><span className="text-moma-red">Gallery</span>
                            </h2>
                        </div>
                        <div className="md:w-1/3">
                            <p className="text-sm md:text-base font-light leading-relaxed text-gray-400">
                                A curated selection of visual works exploring <strong className="text-white">"Altered Landscapes"</strong> and structural transparency.
                                Included in the <span className="text-moma-red font-bold">UNC Studio Art Minor</span> portfolio.
                            </p>
                        </div>
                    </div>

                    {/* Masonry / Gallery Layout */}
                    <div className="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12">

                        {/* Artwork 1 */}
                        <div className="md:col-span-8 flex flex-col gap-3">
                            <div className="w-full aspect-[3/2] bg-[#111] relative group overflow-hidden">
                                <img src="Altered_Landscape_I.jpg" alt="Altered Landscape I" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Altered_Landscape_I.jpg</span>' }} />
                            </div>
                            <div className="flex justify-between items-baseline mt-2 border-t border-gray-800 pt-2">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Altered Landscape</h4>
                                    <p className="text-xs text-gray-500 font-mono">Digital Photography, 2024</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">01</span>
                            </div>
                        </div>

                        {/* Artwork 2 */}
                        <div className="md:col-span-4 flex flex-col gap-3">
                            <div className="w-full aspect-[3/4] bg-[#111] border-none group overflow-hidden">
                                <img src="Layered_Transparency.png" alt="Layered Transparency" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Layered_Transparency.jpg</span>' }} />
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Layered Transparency</h4>
                                    <p className="text-xs text-gray-500 font-mono">Graphite on Paper</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">02</span>
                            </div>
                        </div>

                        {/* Artwork 3 */}
                        <div className="md:col-span-4 flex flex-col gap-3">
                            <div className="w-full aspect-square bg-[#111] border-none group overflow-hidden">
                                <img src="Structure_8.png" alt="Structure 8" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Structure_8.jpg</span>' }} />
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Structure 8</h4>
                                    <p className="text-xs text-gray-500 font-mono">Charcoal Study</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">03</span>
                            </div>
                        </div>

                        {/* Artwork 4 */}
                        <div className="md:col-span-8 flex flex-col gap-3">
                            <div className="w-full aspect-[16/9] bg-[#111] border-none group overflow-hidden">
                                <img src="Cultural_Stitch.png" alt="Cultural Stitch" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Cultural_Stitch.jpg</span>' }} />
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Cultural Stitch</h4>
                                    <p className="text-xs text-gray-500 font-mono">Graphite & Ink, 18x24"</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">04</span>
                            </div>
                        </div>

                        {/* Artwork 5 - NEW */}
                        <div className="md:col-span-4 flex flex-col gap-3">
                            <div className="w-full aspect-[3/4] bg-[#111] border-none group overflow-hidden">
                                <img src="Apple_Study.png" alt="Apple Study" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Apple_Study.jpg</span>' }} />
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Apple Study</h4>
                                    <p className="text-xs text-gray-500 font-mono">Graphite on Paper</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">05</span>
                            </div>
                        </div>

                        {/* Artwork 6 - NEW */}
                        <div className="md:col-span-4 flex flex-col gap-3">
                            <div className="w-full aspect-[3/4] bg-[#111] border-none group overflow-hidden">
                                <img src="Conan_Fanart.png" alt="Conan Fanart" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Conan_Fanart.jpg</span>' }} />
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Emotional Encounter</h4>
                                    <p className="text-xs text-gray-500 font-mono">Fanart - Pencil</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">06</span>
                            </div>
                        </div>

                        {/* Artwork 7 - NEW */}
                        <div className="md:col-span-4 flex flex-col gap-3">
                            <div className="w-full aspect-[3/4] bg-[#111] border-none group overflow-hidden">
                                <img src="Crumpled_Silence.png" alt="Crumpled Silence" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100" onError={(e) => { e.target.style.display = 'none'; e.target.parentElement.classList.add('art-placeholder'); e.target.parentElement.innerHTML = '<span>Crumpled_Silence.jpg</span>' }} />
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Crumpled Silence</h4>
                                    <p className="text-xs text-gray-500 font-mono">Graphite - Texture Study</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">07</span>
                            </div>
                        </div>

                        {/* Artwork 8 - NEW - Featured Wide */}
                        <div className="md:col-span-12 flex flex-col gap-3">
                            <div className="w-full aspect-[21/9] bg-[#111] border-none group overflow-hidden">
                                {/* Placeholder for a wide landscape or compilation image */}
                                <div className="w-full h-full bg-neutral-900 flex items-center justify-center text-gray-600 font-mono text-xs">
                                    [ Wide Feature: e.g. Landscape_Compilation.jpg ]
                                </div>
                            </div>
                            <div className="border-t border-gray-800 pt-2 flex justify-between">
                                <div>
                                    <h4 className="text-sm font-bold text-white">Visual Anthology</h4>
                                    <p className="text-xs text-gray-500 font-mono">Selected Works Compilation, 2022-2025</p>
                                </div>
                                <span className="text-moma-red text-xs font-bold">08</span>
                            </div>
                        </div>
                    </div>

                    <div className="mt-16 md:mt-24 border-b border-white"></div>
                </div>
            </section>
        );

        // 8. UNC Section (UPDATED: Campus Context with Actual Image & Logo)
        const UNCSection = () => (
            <section className="bg-white pb-24">
                {/* 1. Hero Banner with Full-Width Blurred Background */}
                <div className="relative w-full h-[60vh] md:h-[80vh] flex items-center justify-center mb-24 overflow-hidden">

                    {/* Background Image */}
                    <div className="absolute inset-0 z-0 overflow-hidden">
                        <img
                            src="UNC_Landscape.jpg"
                            alt="UNC Campus Landscape"
                            className="w-full h-full object-cover object-top blur-md scale-110"
                        />
                        {/* Overlay to ensure text readability */}
                        <div className="absolute inset-0 bg-white/30 backdrop-blur-sm"></div>
                        <div className="absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"></div>
                    </div>

                    {/* Content Layer */}
                    <div className="relative z-10 text-center px-6 w-full max-w-4xl mx-auto mt-12">

                        {/* School Logo Slot - Enhanced with Real Image */}
                        <div className="mb-8 flex justify-center">
                            <div className="w-32 h-32 md:w-40 md:h-40 bg-white rounded-full shadow-2xl border-4 border-white flex items-center justify-center overflow-hidden group cursor-pointer relative hover:scale-105 transition-transform duration-500">
                                <img
                                    src="UNC_Logo.png"
                                    alt="UNC Logo"
                                    className="w-full h-full object-contain p-4"
                                    onError={(e) => {
                                        // Fallback if image is missing
                                        e.target.style.display = 'none';
                                        e.target.parentElement.innerHTML = '<div class="text-center text-unc opacity-50"><span class="text-[10px] font-bold uppercase tracking-widest">UNC_Logo.png</span></div>';
                                    }}
                                />
                            </div>
                        </div>

                        <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/90 backdrop-blur-md border border-white/60 shadow-sm mb-6">
                            <i data-lucide="map-pin" className="w-3 h-3 text-unc"></i>
                            <span className="text-xs font-bold uppercase tracking-widest text-gray-800">Chapel Hill, NC</span>
                        </div>

                        <h2 className="text-5xl md:text-8xl font-serif font-bold text-gray-900 mb-6 leading-none tracking-tight drop-shadow-lg">
                            University of North Carolina<br />
                            <span className="text-unc italic relative">
                                at Chapel Hill
                                {/* Decorative underline */}
                                <svg className="absolute w-full h-3 -bottom-1 left-0 text-unc opacity-40" viewBox="0 0 100 10" preserveAspectRatio="none">
                                    <path d="M0 5 Q 50 10 100 5" stroke="currentColor" strokeWidth="2" fill="none" />
                                </svg>
                            </span>
                        </h2>

                        <p className="text-lg md:text-2xl text-gray-800 font-light max-w-2xl mx-auto leading-relaxed">
                            Ranking No. 1 public university in the South.<br />
                            USNEWS 2024 #22 National University
                        </p>
                    </div>
                </div>

                {/* Bento Grid Layout */}
                <div className="max-w-6xl mx-auto px-6">
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">

                        {/* Card 1: Heritage (Large) */}
                        <div className="md:col-span-2 bg-gray-50 p-8 rounded-xl border border-gray-100 relative overflow-hidden group hover:border-unc/20 transition-colors">
                            <div className="absolute top-0 right-0 w-64 h-64 bg-unc/5 rounded-full mix-blend-multiply filter blur-3xl opacity-50 group-hover:opacity-80 transition-opacity"></div>
                            <div className="relative z-10">
                                <h3 className="text-xl font-bold mb-4 flex items-center gap-2">
                                    <i data-lucide="history" className="w-5 h-5 text-gray-400"></i> Heritage & Story
                                </h3>
                                <p className="text-gray-600 leading-relaxed mb-8 max-w-xl">
                                    Chartered on <strong>December 11, 1789</strong>. The university was founded with a single building called <strong>Old East</strong>. Still used today as a residential building, it is the oldest U.S. public university building.
                                </p>
                                <div className="flex gap-8 md:gap-16 border-t border-gray-200 pt-6">
                                    <div>
                                        <div className="text-4xl font-serif font-bold text-gray-900">1789</div>
                                        <div className="text-xs text-gray-400 uppercase tracking-widest mt-1">Chartered</div>
                                    </div>
                                    <div>
                                        <div className="text-4xl font-serif font-bold text-gray-900">1793</div>
                                        <div className="text-xs text-gray-400 uppercase tracking-widest mt-1">Cornerstone</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Card 2: Identity (Color) */}
                        <div className="bg-unc text-white p-8 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden group">
                            <div className="absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl group-hover:scale-110 transition-transform duration-700"></div>
                            <div>
                                <h3 className="text-sm font-bold uppercase tracking-widest opacity-80 mb-2">Identity</h3>
                                <h4 className="text-3xl font-serif font-bold">Carolina Blue</h4>
                            </div>
                            <div className="mt-8">
                                <div className="font-mono text-lg bg-white/20 inline-block px-3 py-1 rounded backdrop-blur-sm border border-white/10">#4B9CD3</div>
                                <p className="text-xs mt-2 opacity-80">Official Web Safe Hex</p>
                            </div>
                        </div>

                        {/* Card 3: Research Stats */}
                        <div className="bg-gray-900 text-white p-8 rounded-xl flex flex-col justify-center border border-gray-800">
                            <i data-lucide="book-open" className="w-8 h-8 text-unc mb-6"></i>
                            <h3 className="text-lg font-bold mb-6">Academic Resources</h3>
                            <div className="space-y-6">
                                <div>
                                    <div className="text-3xl font-mono text-unc font-bold">5.6M+</div>
                                    <div className="text-xs text-gray-400 uppercase tracking-wider mt-1">Library Volumes</div>
                                </div>
                                <div className="h-px bg-gray-800 w-full"></div>
                                <div>
                                    <div className="text-xl font-mono text-white">ibiblio</div>
                                    <div className="text-xs text-gray-400 uppercase tracking-wider mt-1">Digital Collection Hub</div>
                                </div>
                            </div>
                        </div>

                        {/* Card 4: Spirit (Mascot) */}
                        <div className="md:col-span-2 bg-white border border-gray-200 p-8 rounded-xl flex items-center justify-between group hover:border-unc/30 transition-colors hover:shadow-sm">
                            <div>
                                <h3 className="text-xl font-bold mb-2 text-gray-900">Rameses</h3>
                                <p className="text-gray-500 text-sm mb-4 max-w-xs">The Dorset Horn sheep mascot of the North Carolina Tar Heels.</p>
                                <span className="inline-flex items-center gap-1 text-xs font-bold text-unc uppercase tracking-wider group-hover:translate-x-1 transition-transform">
                                    School Spirit <i data-lucide="arrow-right" className="w-3 h-3"></i>
                                </span>
                            </div>
                            <div className="w-24 h-24 bg-gray-50 border border-gray-100 rounded-full flex items-center justify-center text-5xl shadow-inner group-hover:scale-110 transition-transform duration-300">
                                🐏
                            </div>
                        </div>

                    </div>
                </div>
            </section>
        );

        // 9. CV Viewer Component (FULLSCREEN IMMERSIVE)
        const CVViewer = ({ setActiveSection }) => (
            <motion.div
                className="fixed inset-0 z-[100] bg-[#1a1a1a] text-white flex flex-col"
                initial={{ opacity: 0, y: '100%' }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0, y: '100%' }}
                transition={{ duration: 0.4, ease: [0.22, 1, 0.36, 1] }}
            >
                {/* Toolbar */}
                <div className="h-16 bg-black border-b border-gray-800 flex items-center justify-between px-4 md:px-6 flex-shrink-0">
                    <div className="flex items-center gap-4">
                        <button onClick={() => setActiveSection('home')} className="text-gray-400 hover:text-white transition-colors flex items-center gap-2">
                            <i data-lucide="arrow-left" className="w-5 h-5"></i> <span className="hidden sm:inline text-sm font-medium">Back</span>
                        </button>
                        <div className="hidden sm:block h-6 w-px bg-gray-700 mx-2"></div>
                        <span className="font-mono text-xs sm:text-sm text-gray-300 truncate max-w-[150px] sm:max-w-none">Yihan Zhang_CV.pdf</span>
                    </div>
                    <div className="flex items-center gap-3">
                        <a href="04_Yihan Zhang_CV.pdf" download className="bg-unc hover:bg-unc-light text-white px-4 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 shadow-lg hover:shadow-unc/20">
                            <i data-lucide="download" className="w-4 h-4"></i> <span className="hidden sm:inline">Download</span>
                        </a>
                    </div>
                </div>

                {/* PDF View Area - MAXIMIZED & MOBILE FRIENDLY */}
                <div className="flex-grow bg-[#2a2a2a] overflow-hidden relative w-full flex items-center justify-center">
                    <iframe src="04_Yihan Zhang_CV.pdf" className="hidden md:block pdf-frame" title="CV"></iframe>

                    {/* Mobile Fallback for PDF */}
                    <div className="md:hidden flex flex-col items-center justify-center text-center p-8">
                        <i data-lucide="file-text" className="w-16 h-16 text-gray-600 mb-4"></i>
                        <h3 className="text-xl font-bold mb-2">View PDF</h3>
                        <p className="text-gray-400 mb-6 text-sm">For the best experience on mobile, please open the CV directly.</p>
                        <a href="04_Yihan Zhang_CV.pdf" target="_blank" className="bg-white text-black px-6 py-3 rounded-full font-bold">Tap to Open PDF</a>
                    </div>
                </div>
            </motion.div>
        );

        // 10. Contact Section (RESTORED with Image)
        const Contact = () => (
            <section className="py-16 md:py-32 bg-white min-h-screen flex items-center relative overflow-hidden">
                {/* Background Graphic - REPLACED with Real Image */}
                <div className="absolute inset-0 z-0 overflow-hidden">
                    <img
                        src="UNC_Landscape.jpg"
                        alt="UNC Campus Landscape"
                        className="w-full h-full object-cover object-center blur-sm opacity-20 scale-105"
                    />
                    <div className="absolute inset-0 bg-white/80 backdrop-blur-sm"></div>
                </div>

                <div className="max-w-5xl mx-auto px-6 w-full z-10">
                    <div className="grid md:grid-cols-2 gap-12 md:gap-20">
                        <div>
                            <h2 className="text-4xl md:text-7xl font-serif font-bold text-gray-900 mb-6 md:mb-8 leading-none">
                                Let's<br /><span className="text-unc italic">Connect.</span>
                            </h2>
                            <p className="text-lg md:text-xl text-gray-600 font-light mb-8 md:mb-12 max-w-sm">
                                Open to PhD opportunities, research collaborations, and technical discussions.
                            </p>

                            <div className="space-y-6 md:space-y-8">
                                <div>
                                    <h3 className="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Email</h3>
                                    <a href="mailto:zhayihan@unc.edu" className="text-xl md:text-2xl font-mono hover:text-unc transition-colors border-b border-gray-200 hover:border-unc pb-1 break-all">zhayihan@unc.edu</a>
                                </div>
                                <div>
                                    <h3 className="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Institution</h3>
                                    <p className="text-base md:text-lg text-gray-800">University of North Carolina<br />at Chapel Hill</p>
                                </div>
                                <div>
                                    <h3 className="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4">Social</h3>
                                    <div className="flex gap-4">
                                        <a href="#" className="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center hover:bg-unc hover:text-white hover:border-unc transition-all"><i data-lucide="linkedin" className="w-4 h-4"></i></a>
                                        <a href="#" className="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center hover:bg-black hover:text-white hover:border-black transition-all"><i data-lucide="github" className="w-4 h-4"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white/90 p-6 md:p-8 rounded-lg border border-gray-100 shadow-xl backdrop-blur-md">
                            <h3 className="text-lg font-bold mb-6">Send a Message</h3>
                            <form className="space-y-4" onSubmit={(e) => e.preventDefault()}>
                                <div>
                                    <label className="block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1">Name</label>
                                    <input type="text" className="w-full bg-white border border-gray-200 rounded p-3 focus:outline-none focus:border-unc transition-colors" placeholder="Your Name" />
                                </div>
                                <div>
                                    <label className="block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1">Email</label>
                                    <input type="email" className="w-full bg-white border border-gray-200 rounded p-3 focus:outline-none focus:border-unc transition-colors" placeholder="your@email.com" />
                                </div>
                                <div>
                                    <label className="block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1">Message</label>
                                    <textarea rows="4" className="w-full bg-white border border-gray-200 rounded p-3 focus:outline-none focus:border-unc transition-colors" placeholder="Hello Yihan..."></textarea>
                                </div>
                                <button className="w-full bg-black text-white py-3 rounded font-medium hover:bg-unc transition-colors flex items-center justify-center gap-2">
                                    Send Message <i data-lucide="send" className="w-4 h-4"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        );

        // 11. Footer (Optimized)
        const Footer = ({ activeSection }) => {
            if (activeSection === 'cv' || activeSection === 'contact') return null;

            const isArt = activeSection === 'art';
            const isHome = activeSection === 'home';

            if (!isHome) {
                return (
                    <footer className={`py-8 border-t ${isArt ? 'bg-black border-gray-900 text-gray-500' : 'bg-white border-gray-100 text-gray-400'}`}>
                        <div className="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-2 text-[10px] font-mono uppercase tracking-wider">
                            <span>&copy; 2025 Yihan Zhang.</span>
                            <div className="flex items-center gap-4">
                                <span>UNC Chapel Hill</span>
                                <span className="hidden md:inline">|</span>
                                <a href="mailto:zhayihan@unc.edu" className="hover:text-unc transition-colors">zhayihan@unc.edu</a>
                            </div>
                        </div>
                    </footer>
                );
            }

            return (
                <footer className="bg-white border-t border-gray-200 text-black py-24">
                    <div className="max-w-5xl mx-auto px-6 text-center">
                        <div className="mb-8 flex justify-center text-unc">
                            <i data-lucide="landmark" className="w-8 h-8"></i>
                        </div>

                        <h2 className="text-3xl md:text-4xl font-serif mb-8 font-bold">Ready to Build.</h2>

                        <p className="text-gray-500 max-w-xl mx-auto mb-12 font-light">
                            School of Information and Library Science (SILS)<br />
                            University of North Carolina at Chapel Hill
                        </p>
                        <a href="mailto:zhayihan@unc.edu" className="inline-flex items-center gap-2 bg-black text-white px-8 py-4 rounded-full font-medium hover:bg-unc transition-all">
                            zhayihan@unc.edu
                        </a>
                        <div className="mt-24 pt-8 border-t border-gray-100 text-xs text-gray-400 flex justify-between items-center">
                            <span>&copy; 2025 Yihan Zhang.</span>
                            <span className="font-mono">CHAPEL HILL, NC</span>
                        </div>
                    </div>
                </footer>
            );
        };

        // 12. Chat Widget (MOCK ONLY - Safe for GitHub)
        const ChatWidget = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([{
                role: 'ai',
                text: "Hi! I'm Yihan's digital assistant. Ask me about his **Research**, **Patents**, or **UNC Background**."
            }]);
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const messagesEndRef = useRef(null);

            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            }, [messages]);

            const handleSend = async (text = input) => {
                if (!text.trim()) return;
                const userMsg = { role: 'user', text };
                setMessages(prev => [...prev, userMsg]);
                setInput('');
                setLoading(true);

                // MOCK RESPONSE LOGIC
                // This replaces the API call to ensure safety and reliability in demo mode.
                setTimeout(() => {
                    let aiText = "I'm designed to showcase Yihan's work. Please check the CV for more details.";
                    const q = text.toLowerCase();

                    if (q.includes('patent')) {
                        aiText = "I hold two patents. The primary one is **CN209791046U** (First Inventor) for a Disc-Tube Reverse Osmosis Apparatus, which solved a critical maintenance bottleneck.";
                    } else if (q.includes('research') || q.includes('framework')) {
                        aiText = "My research proposes an **Intelligent Design Framework for Urban Micro-Interaction Systems**, focusing on the triad of Deployable, Measurable, and Publishable outcomes.";
                    } else if (q.includes('offline') || q.includes('oracle')) {
                        aiText = "**Offline Oracle** is a gamified intervention system combining a physical box and a digital app to diagnose 'True Needs' behind smartphone addiction.";
                    } else if (q.includes('art') || q.includes('gallery')) {
                        aiText = "My art portfolio explores **'Altered Landscapes'**, combining photography and structural transparency to question human impact on nature.";
                    } else if (q.includes('unc') || q.includes('school')) {
                        aiText = "I study Information Science at **UNC Chapel Hill** (SILS), ranking #1 public university in the South. Go Tar Heels!";
                    }

                    setMessages(prev => [...prev, { role: 'ai', text: aiText }]);
                    setLoading(false);
                }, 600);
            };

            return (
                <div className="fixed bottom-6 right-6 z-50 font-sans">
                    <AnimatePresence>
                        {isOpen && (
                            <motion.div
                                initial={{ opacity: 0, scale: 0.9, y: 20 }}
                                animate={{ opacity: 1, scale: 1, y: 0 }}
                                exit={{ opacity: 0, scale: 0.9, y: 20 }}
                                className="absolute bottom-20 right-0 w-[300px] sm:w-[360px] h-[450px] sm:h-[500px] bg-white rounded shadow-2xl border border-gray-200 flex flex-col overflow-hidden"
                            >
                                <div className="p-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center">
                                    <span className="font-bold text-sm">AI Assistant (Demo)</span>
                                    <button onClick={() => setIsOpen(false)}><i data-lucide="x" className="w-4 h-4 text-gray-400"></i></button>
                                </div>
                                <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-white">
                                    {messages.map((m, i) => (
                                        <div key={i} className={`p-3 rounded text-sm ${m.role === 'ai' ? 'bg-gray-100' : 'bg-unc text-white ml-auto max-w-[85%]'}`}>
                                            <div dangerouslySetInnerHTML={{ __html: marked.parse(m.text) }} />
                                        </div>
                                    ))}
                                    {loading && <div className="text-xs text-gray-400 animate-pulse ml-2">Thinking...</div>}
                                    <div ref={messagesEndRef} />
                                </div>
                                <div className="p-3 border-t border-gray-100">
                                    <div className="flex gap-2 mb-2 overflow-x-auto pb-1 no-scrollbar">
                                        {['Research', 'Art', 'Patents'].map(q => (
                                            <button key={q} onClick={() => handleSend(q)} className="text-xs border px-2 py-1 rounded hover:bg-gray-50">{q}</button>
                                        ))}
                                    </div>
                                    <div className="flex gap-2">
                                        <input value={input} onChange={(e) => setInput(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleSend()} placeholder="Type a message..." className="flex-1 border rounded px-2 py-1 text-sm" />
                                        <button onClick={() => handleSend()} className="bg-black text-white p-1.5 rounded"><i data-lucide="arrow-up" className="w-4 h-4"></i></button>
                                    </div>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                    <button onClick={() => setIsOpen(!isOpen)} className="bg-black text-white p-4 rounded-full shadow-xl hover:scale-110 transition-transform">
                        <i data-lucide="sparkles" className="w-6 h-6"></i>
                    </button>
                </div>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [activeSection, setActiveSection] = useState('home');
            useEffect(() => { lucide.createIcons(); }, [activeSection]);

            return (
                <div className="min-h-screen flex flex-col font-sans text-gray-900 selection:bg-unc/20 selection:text-black">
                    {activeSection !== 'cv' && <Navbar activeSection={activeSection} setActiveSection={setActiveSection} />}

                    <main className="flex-grow">
                        <AnimatePresence mode="wait">
                            {activeSection === 'home' && (
                                <motion.div key="home" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <Hero setActiveSection={setActiveSection} />
                                    <NewsSection />
                                    <Stats />
                                </motion.div>
                            )}
                            {activeSection === 'news' && (
                                <motion.div key="news" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <NewsSection />
                                </motion.div>
                            )}
                            {activeSection === 'research' && (
                                <motion.div key="research" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <Research />
                                </motion.div>
                            )}
                            {activeSection === 'projects' && (
                                <motion.div key="projects" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <Projects />
                                </motion.div>
                            )}
                            {activeSection === 'unc' && (
                                <motion.div key="unc" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <UNCSection />
                                </motion.div>
                            )}
                            {activeSection === 'art' && (
                                <motion.div key="art" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <ArtGallery />
                                </motion.div>
                            )}
                            {activeSection === 'contact' && (
                                <motion.div key="contact" variants={pageVariants} initial="initial" animate="animate" exit="exit">
                                    <Contact />
                                </motion.div>
                            )}
                            {activeSection === 'cv' && (
                                <CVViewer setActiveSection={setActiveSection} />
                            )}
                        </AnimatePresence>
                    </main>

                    <Footer activeSection={activeSection} />

                    {activeSection !== 'cv' && <ChatWidget />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>